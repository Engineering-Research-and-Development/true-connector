{
	"info": {
		"_postman_id": "de10144c-f87c-4bd2-84e1-5b8247e5266a",
		"name": "TRUE Connector v1",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "21815221"
	},
	"item": [
		{
			"name": "SelfDescription API",
			"item": [
				{
					"name": "ContractOffer",
					"item": [
						{
							"name": "SelfDescription",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"//store applicants self-description for further tests\r",
											"pm.collectionVariables.set(\"APPLICANT_SELF_DESCRIPTION\", jsonData)\r",
											"\r",
											"pm.test(\"ContractOffer\", function () {\r",
											"  // catalog\r",
											"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"@id\"]).to.exist;\r",
											"  pm.collectionVariables.set(\"resourceCatalog\", jsonData[\"ids:resourceCatalog\"][0][\"@id\"])  \r",
											"  // resource\r",
											"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"@id\"]).to.exist;\r",
											"  pm.collectionVariables.set(\"offeredResource\", jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"@id\"])\r",
											"  // contractOffer\r",
											"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:contractOffer\"][0][\"@id\"]).to.exist;\r",
											"  pm.collectionVariables.set(\"contractOffer\", jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:contractOffer\"][0][\"@id\"])\r",
											"  // representation\r",
											"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:representation\"][0][\"@id\"]).to.exist;\r",
											"  pm.collectionVariables.set(\"representation\", jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:representation\"][0][\"@id\"])\r",
											"  });"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{Self_Description_URL}}/api/selfDescription/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"selfDescription",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "ContractOffer",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"\r",
											"pm.test(\"Contract offer\", function () {\r",
											"//http://w3id.org/engrd/connector/artifact/test\r",
											"  pm.expect(pm.response.text()).to.include(\"ids:Permission\");\r",
											"  pm.expect(pm.response.text()).to.include(\"ids:ContractOffer\");\r",
											"  pm.expect(pm.response.text()).to.include(\"http://w3id.org/engrd/connector/artifact\");\r",
											"  });"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "contractOffer",
										"value": "{{contractOffer}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {}
								},
								"url": {
									"raw": "{{Self_Description_URL}}/api/contractOffer/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"contractOffer",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "ContractOffer - Create",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"\r",
											"pm.test(\"ContractOffer Created\", function () {\r",
											"//http://w3id.org/engrd/connector/artifact/test\r",
											"  pm.expect(pm.response.text()).to.include(\"http://w3id.org/engrd/connector/artifact/test\");\r",
											"  });"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var dateNow = new Date();\r",
											"pm.collectionVariables.set(\"futureDate\", new Date(dateNow.setDate(dateNow.getDate() + 60)).toISOString());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "resource",
										"value": "{{offeredResource}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"@context\": {\r\n        \"ids\": \"https://w3id.org/idsa/core/\",\r\n        \"idsc\": \"https://w3id.org/idsa/code/\"\r\n    },\r\n    \"@type\": \"ids:ContractOffer\",\r\n    \"@id\": \"https://w3id.org/idsa/autogen/contractOffer/{{$guid}}\",\r\n    \"ids:permission\": [\r\n        {\r\n            \"@type\": \"ids:Permission\",\r\n            \"@id\": \"https://w3id.org/idsa/autogen/permission/{{$guid}}\",\r\n            \"ids:target\": {\r\n                \"@id\": \"http://w3id.org/engrd/connector/artifact/test\"\r\n            },\r\n            \"ids:description\": [\r\n                {\r\n                    \"@value\": \"provide-access\",\r\n                    \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n                }\r\n            ],\r\n            \"ids:action\": [\r\n                {\r\n                    \"@id\": \"https://w3id.org/idsa/code/USE\"\r\n                }\r\n            ],\r\n            \"ids:title\": [\r\n                {\r\n                    \"@value\": \"Example Usage Policy\",\r\n                    \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n                }\r\n            ],\r\n            \"ids:preDuty\": [],\r\n            \"ids:constraint\": [\r\n                {\r\n                    \"@type\": \"ids:Constraint\",\r\n                    \"@id\": \"https://w3id.org/idsa/autogen/constraint/{{$guid}}\",\r\n                    \"ids:rightOperand\": {\r\n                        \"@value\": \"{{$isoTimestamp}}\",\r\n                        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n                    },\r\n                    \"ids:leftOperand\": {\r\n                        \"@id\": \"https://w3id.org/idsa/code/POLICY_EVALUATION_TIME\"\r\n                    },\r\n                    \"ids:operator\": {\r\n                        \"@id\": \"https://w3id.org/idsa/code/AFTER\"\r\n                    }\r\n                },\r\n                {\r\n                    \"@type\": \"ids:Constraint\",\r\n                    \"@id\": \"https://w3id.org/idsa/autogen/constraint/{{$guid}}\",\r\n                    \"ids:rightOperand\": {\r\n                        \"@value\": \"{{futureDate}}\",\r\n                        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n                    },\r\n                    \"ids:leftOperand\": {\r\n                        \"@id\": \"https://w3id.org/idsa/code/POLICY_EVALUATION_TIME\"\r\n                    },\r\n                    \"ids:operator\": {\r\n                        \"@id\": \"https://w3id.org/idsa/code/BEFORE\"\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    \"ids:provider\": {\r\n        \"@id\": \"https://w3id.org/engrd/connector/\"\r\n    },\r\n    \"ids:contractStart\": {\r\n        \"@value\": \"{{$isoTimestamp}}\",\r\n        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n    },\r\n    \"ids:contractDate\": {\r\n        \"@value\": \"{{$isoTimestamp}}\",\r\n        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Self_Description_URL}}/api/contractOffer/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"contractOffer",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "ContractOffer - Update",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"\r",
											"pm.test(\"ContractOffer Updated\", function () {\r",
											"//http://w3id.org/engrd/connector/artifact/test\r",
											"  pm.expect(pm.response.text()).to.include(\"http://w3id.org/engrd/connector/artifact/testUpdate\");\r",
											"  });"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var dateNow = new Date();\r",
											"pm.collectionVariables.set(\"futureDate\", new Date(dateNow.setDate(dateNow.getDate() + 60)).toISOString());"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "resource",
										"value": "{{offeredResource}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"@context\": {\r\n        \"ids\": \"https://w3id.org/idsa/core/\",\r\n        \"idsc\": \"https://w3id.org/idsa/code/\"\r\n    },\r\n    \"@type\": \"ids:ContractOffer\",\r\n    \"@id\": \"{{contractOffer}}\",\r\n    \"ids:permission\": [\r\n        {\r\n            \"@type\": \"ids:Permission\",\r\n            \"@id\": \"https://w3id.org/idsa/autogen/permission/{{$guid}}\",\r\n            \"ids:target\": {\r\n                \"@id\": \"http://w3id.org/engrd/connector/artifact/testUpdate\"\r\n            },\r\n            \"ids:description\": [\r\n                {\r\n                    \"@value\": \"provide-access\",\r\n                    \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n                }\r\n            ],\r\n            \"ids:action\": [\r\n                {\r\n                    \"@id\": \"https://w3id.org/idsa/code/USE\"\r\n                }\r\n            ],\r\n            \"ids:title\": [\r\n                {\r\n                    \"@value\": \"Example Usage Policy\",\r\n                    \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n                }\r\n            ],\r\n            \"ids:preDuty\": [],\r\n            \"ids:constraint\": [\r\n                {\r\n                    \"@type\": \"ids:Constraint\",\r\n                    \"@id\": \"https://w3id.org/idsa/autogen/constraint/{{$guid}}\",\r\n                    \"ids:rightOperand\": {\r\n                        \"@value\": \"{{$isoTimestamp}}\",\r\n                        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n                    },\r\n                    \"ids:leftOperand\": {\r\n                        \"@id\": \"https://w3id.org/idsa/code/POLICY_EVALUATION_TIME\"\r\n                    },\r\n                    \"ids:operator\": {\r\n                        \"@id\": \"https://w3id.org/idsa/code/AFTER\"\r\n                    }\r\n                },\r\n                {\r\n                    \"@type\": \"ids:Constraint\",\r\n                    \"@id\": \"https://w3id.org/idsa/autogen/constraint/{{$guid}}\",\r\n                    \"ids:rightOperand\": {\r\n                        \"@value\": \"{{futureDate}}\",\r\n                        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n                    },\r\n                    \"ids:leftOperand\": {\r\n                        \"@id\": \"https://w3id.org/idsa/code/POLICY_EVALUATION_TIME\"\r\n                    },\r\n                    \"ids:operator\": {\r\n                        \"@id\": \"https://w3id.org/idsa/code/BEFORE\"\r\n                    }\r\n                }\r\n            ],\r\n            \"ids:postDuty\": [],\r\n            \"ids:assignee\": [],\r\n            \"ids:assigner\": []\r\n        }\r\n    ],\r\n    \"ids:provider\": {\r\n        \"@id\": \"https://w3id.org/engrd/connector/\"\r\n    },\r\n    \"ids:contractStart\": {\r\n        \"@value\": \"{{$isoTimestamp}}\",\r\n        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n    },\r\n    \"ids:contractDate\": {\r\n        \"@value\": \"{{$isoTimestamp}}\",\r\n        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n    },\r\n    \"ids:prohibition\": [],\r\n    \"ids:obligation\": []\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Self_Description_URL}}/api/contractOffer/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"contractOffer",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "ContractOffer - Delete",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"\r",
											"pm.test(\"ContractOffer Deleted\", function () {\r",
											"//http://w3id.org/engrd/connector/artifact/test\r",
											"    pm.expect(pm.response.text()).to.not.include(pm.collectionVariables.get(\"contractOffer\"));\r",
											"  });"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "contractOffer",
										"value": "{{contractOffer}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{Self_Description_URL}}/api/contractOffer/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"contractOffer",
										""
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "OfferedResource",
					"item": [
						{
							"name": "SelfDescription",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"//store applicants self-description for further tests\r",
											"pm.collectionVariables.set(\"APPLICANT_SELF_DESCRIPTION\", jsonData)\r",
											"\r",
											"pm.test(\"ContractOffer\", function () {\r",
											"  // catalog\r",
											"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"@id\"]).to.exist;\r",
											"  pm.collectionVariables.set(\"resourceCatalog\", jsonData[\"ids:resourceCatalog\"][0][\"@id\"])  \r",
											"  // resource\r",
											"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"@id\"]).to.exist;\r",
											"  pm.collectionVariables.set(\"offeredResource\", jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"@id\"])\r",
											"  // contractOffer\r",
											"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:contractOffer\"][0][\"@id\"]).to.exist;\r",
											"  pm.collectionVariables.set(\"contractOffer\", jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:contractOffer\"][0][\"@id\"])\r",
											"  // representation\r",
											"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:representation\"][0][\"@id\"]).to.exist;\r",
											"  pm.collectionVariables.set(\"representation\", jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:representation\"][0][\"@id\"])\r",
											"  });"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{Self_Description_URL}}/api/selfDescription/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"selfDescription",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "OfferedResource",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"\r",
											"pm.test(\"Offered resource\", function () {\r",
											"//http://w3id.org/engrd/connector/artifact/test\r",
											"  pm.expect(pm.response.text()).to.include(\"ids:TextResource\");\r",
											"  pm.expect(pm.response.text()).to.include(\"ids:ContractOffer\");\r",
											"  pm.expect(pm.response.text()).to.include(\"ids:Constraint\");\r",
											"  pm.expect(pm.response.text()).to.include(\"ids:TextRepresentation\");\r",
											"  pm.expect(pm.response.text()).to.include(\"ids:Artifact\");\r",
											"  });"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "resource",
										"value": "{{offeredResource}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{Self_Description_URL}}/api/offeredResource/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"offeredResource",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "OfferedResource - Create",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"\r",
											"pm.test(\"OfferedResource Created\", function () {\r",
											"//http://w3id.org/engrd/connector/artifact/postman\r",
											"  pm.expect(pm.response.text()).to.include(\"http://w3id.org/engrd/connector/artifact/postman\");\r",
											"  var list = jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"].length;\r",
											"  tests[\"Validate total of 3 offered resources\"] = list > 2;\r",
											"  });\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "catalog",
										"value": "{{resourceCatalog}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"@context\": {\r\n        \"ids\": \"https://w3id.org/idsa/core/\",\r\n        \"idsc\": \"https://w3id.org/idsa/code/\"\r\n    },\r\n    \"@type\": \"ids:TextResource\",\r\n    \"@id\": \"https://w3id.org/idsa/autogen/textResource/{{$guid}}\",\r\n    \"ids:language\": [\r\n        {\r\n            \"@id\": \"https://w3id.org/idsa/code/EN\"\r\n        }\r\n    ],\r\n    \"ids:version\": \"1.0.0\",\r\n    \"ids:keyword\": [\r\n        {\r\n            \"@value\": \"Engineering Ingegneria Informatica SpA TEST\",\r\n            \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n        }\r\n    ],\r\n    \"ids:contentType\": {\r\n        \"@id\": \"https://w3id.org/idsa/code/SCHEMA_DEFINITION\"\r\n    },\r\n    \"ids:description\": [\r\n        {\r\n            \"@value\": \"Used to verify large data transfer\",\r\n            \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n        }\r\n    ],\r\n    \"ids:created\": {\r\n        \"@value\": \"{{$isoTimestamp}}\",\r\n        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n    },\r\n    \"ids:theme\": [],\r\n    \"ids:contractOffer\": [\r\n        {\r\n            \"@type\": \"ids:ContractOffer\",\r\n            \"@id\": \"https://w3id.org/idsa/autogen/contractOffer/{{$guid}}\",\r\n            \"ids:permission\": [\r\n                {\r\n                    \"@type\": \"ids:Permission\",\r\n                    \"@id\": \"https://w3id.org/idsa/autogen/permission/{{$guid}}\",\r\n                    \"ids:target\": {\r\n                        \"@id\": \"http://w3id.org/engrd/connector/artifact/postman\"\r\n                    },\r\n                    \"ids:description\": [\r\n                        {\r\n                            \"@value\": \"provide-access\",\r\n                            \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n                        }\r\n                    ],\r\n                    \"ids:constraint\": [\r\n                        {\r\n                            \"@type\": \"ids:Constraint\",\r\n                            \"@id\": \"https://w3id.org/idsa/autogen/constraint/{{$guid}}\",\r\n                            \"ids:operator\": {\r\n                                \"@id\": \"https://w3id.org/idsa/code/AFTER\"\r\n                            },\r\n                            \"ids:leftOperand\": {\r\n                                \"@id\": \"https://w3id.org/idsa/code/POLICY_EVALUATION_TIME\"\r\n                            },\r\n                            \"ids:rightOperand\": {\r\n                                \"@value\": \"{{$isoTimestamp}}\",\r\n                                \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n                            }\r\n                        }\r\n                    ],\r\n                    \"ids:action\": [\r\n                        {\r\n                            \"@id\": \"https://w3id.org/idsa/code/USE\"\r\n                        }\r\n                    ],\r\n                    \"ids:title\": [\r\n                        {\r\n                            \"@value\": \"Example Usage Policy POSTMAN\",\r\n                            \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"ids:provider\": {\r\n                \"@id\": \"https://w3id.org/engrd/connector/\"\r\n            },\r\n            \"ids:contractStart\": {\r\n                \"@value\": \"{{$isoTimestamp}}\",\r\n                \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n            },\r\n            \"ids:contractDate\": {\r\n                \"@value\": \"{{$isoTimestamp}}\",\r\n                \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n            }\r\n        }\r\n    ],\r\n    \"ids:representation\": [\r\n        {\r\n            \"@type\": \"ids:TextRepresentation\",\r\n            \"@id\": \"https://w3id.org/idsa/autogen/textRepresentation/{{$guid}}\",\r\n            \"ids:instance\": [\r\n                {\r\n                    \"@type\": \"ids:Artifact\",\r\n                    \"@id\": \"http://w3id.org/engrd/connector/artifact/postman\",\r\n                    \"ids:creationDate\": {\r\n                        \"@value\": \"{{$isoTimestamp}}\",\r\n                        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n                    }\r\n                }\r\n            ],\r\n            \"ids:language\": {\r\n                \"@id\": \"https://w3id.org/idsa/code/EN\"\r\n            },\r\n            \"ids:created\": {\r\n                \"@value\": \"{{$isoTimestamp}}\",\r\n                \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n            }\r\n        }\r\n    ],\r\n    \"ids:title\": [\r\n        {\r\n            \"@value\": \"World class literature\",\r\n            \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n        }\r\n    ],\r\n    \"ids:modified\": {\r\n        \"@value\": \"{{$isoTimestamp}}\",\r\n        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Self_Description_URL}}/api/offeredResource/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"offeredResource",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "OfferedResource - Update",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"\r",
											"pm.test(\"OfferedResource Update\", function () {\r",
											"//http://w3id.org/engrd/connector/artifact/postman/update\r",
											"  pm.expect(pm.response.text()).to.include(\"http://w3id.org/engrd/connector/artifact/postman/update\");\r",
											"//  var list = jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"].length;\r",
											"//  tests[\"Validate total of 3 offered resources\"] = list === 3;\r",
											"  });\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "catalog",
										"value": "{{resourceCatalog}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"@context\": {\r\n        \"ids\": \"https://w3id.org/idsa/core/\",\r\n        \"idsc\": \"https://w3id.org/idsa/code/\"\r\n    },\r\n    \"@type\": \"ids:TextResource\",\r\n    \"@id\": \"{{offeredResource}}\",\r\n    \"ids:language\": [\r\n        {\r\n            \"@id\": \"https://w3id.org/idsa/code/EN\"\r\n        }\r\n    ],\r\n    \"ids:version\": \"1.0.0\",\r\n    \"ids:keyword\": [\r\n        {\r\n            \"@value\": \"Engineering Ingegneria Informatica SpA TEST\",\r\n            \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n        }\r\n    ],\r\n    \"ids:contentType\": {\r\n        \"@id\": \"https://w3id.org/idsa/code/SCHEMA_DEFINITION\"\r\n    },\r\n    \"ids:description\": [\r\n        {\r\n            \"@value\": \"Used to verify large data transfer\",\r\n            \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n        }\r\n    ],\r\n    \"ids:created\": {\r\n        \"@value\": \"{{$isoTimestamp}}\",\r\n        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n    },\r\n    \"ids:theme\": [],\r\n    \"ids:contractOffer\": [\r\n        {\r\n            \"@type\": \"ids:ContractOffer\",\r\n            \"@id\": \"https://w3id.org/idsa/autogen/contractOffer/{{$guid}}\",\r\n            \"ids:permission\": [\r\n                {\r\n                    \"@type\": \"ids:Permission\",\r\n                    \"@id\": \"https://w3id.org/idsa/autogen/permission/{{$guid}}\",\r\n                    \"ids:target\": {\r\n                        \"@id\": \"http://w3id.org/engrd/connector/artifact/postman/update\"\r\n                    },\r\n                    \"ids:description\": [\r\n                        {\r\n                            \"@value\": \"provide-access\",\r\n                            \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n                        }\r\n                    ],\r\n                    \"ids:constraint\": [\r\n                        {\r\n                            \"@type\": \"ids:Constraint\",\r\n                            \"@id\": \"https://w3id.org/idsa/autogen/constraint/{{$guid}}\",\r\n                            \"ids:operator\": {\r\n                                \"@id\": \"https://w3id.org/idsa/code/AFTER\"\r\n                            },\r\n                            \"ids:leftOperand\": {\r\n                                \"@id\": \"https://w3id.org/idsa/code/POLICY_EVALUATION_TIME\"\r\n                            },\r\n                            \"ids:rightOperand\": {\r\n                                \"@value\": \"{{$isoTimestamp}}\",\r\n                                \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n                            }\r\n                        }\r\n                    ],\r\n                    \"ids:action\": [\r\n                        {\r\n                            \"@id\": \"https://w3id.org/idsa/code/USE\"\r\n                        }\r\n                    ],\r\n                    \"ids:title\": [\r\n                        {\r\n                            \"@value\": \"Example Usage Policy POSTMAN\",\r\n                            \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"ids:provider\": {\r\n                \"@id\": \"https://w3id.org/engrd/connector/\"\r\n            },\r\n            \"ids:contractStart\": {\r\n                \"@value\": \"{{$isoTimestamp}}\",\r\n                \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n            },\r\n            \"ids:contractDate\": {\r\n                \"@value\": \"{{$isoTimestamp}}\",\r\n                \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n            }\r\n        }\r\n    ],\r\n    \"ids:representation\": [\r\n        {\r\n            \"@type\": \"ids:TextRepresentation\",\r\n            \"@id\": \"https://w3id.org/idsa/autogen/textRepresentation/{{$guid}}\",\r\n            \"ids:instance\": [\r\n                {\r\n                    \"@type\": \"ids:Artifact\",\r\n                    \"@id\": \"http://w3id.org/engrd/connector/artifact/postman/update\",\r\n                    \"ids:creationDate\": {\r\n                        \"@value\": \"{{$isoTimestamp}}\",\r\n                        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n                    }\r\n                }\r\n            ],\r\n            \"ids:language\": {\r\n                \"@id\": \"https://w3id.org/idsa/code/EN\"\r\n            },\r\n            \"ids:created\": {\r\n                \"@value\": \"{{$isoTimestamp}}\",\r\n                \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n            }\r\n        }\r\n    ],\r\n    \"ids:title\": [\r\n        {\r\n            \"@value\": \"World class literature\",\r\n            \"@type\": \"http://www.w3.org/2001/XMLSchema#string\"\r\n        }\r\n    ],\r\n    \"ids:modified\": {\r\n        \"@value\": \"{{$isoTimestamp}}\",\r\n        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Self_Description_URL}}/api/offeredResource/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"offeredResource",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "OfferedResource - Delete",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"\r",
											"pm.test(\"OfferedResource Deleted\", function () {\r",
											"//http://w3id.org/engrd/connector/artifact/test\r",
											"    pm.expect(pm.response.text()).to.not.include(pm.collectionVariables.get(\"offeredResource\"));\r",
											"  });"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "resource",
										"value": "{{offeredResource}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{Self_Description_URL}}/api/offeredResource/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"offeredResource",
										""
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Representation",
					"item": [
						{
							"name": "SelfDescription",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"//store applicants self-description for further tests\r",
											"pm.collectionVariables.set(\"APPLICANT_SELF_DESCRIPTION\", jsonData)\r",
											"\r",
											"pm.test(\"ContractOffer\", function () {\r",
											"  // catalog\r",
											"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"@id\"]).to.exist;\r",
											"  pm.collectionVariables.set(\"resourceCatalog\", jsonData[\"ids:resourceCatalog\"][0][\"@id\"])  \r",
											"  // resource\r",
											"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"@id\"]).to.exist;\r",
											"  pm.collectionVariables.set(\"offeredResource\", jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"@id\"])\r",
											"  // contractOffer\r",
											"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:contractOffer\"][0][\"@id\"]).to.exist;\r",
											"  pm.collectionVariables.set(\"contractOffer\", jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:contractOffer\"][0][\"@id\"])\r",
											"  // representation\r",
											"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:representation\"][0][\"@id\"]).to.exist;\r",
											"  pm.collectionVariables.set(\"representation\", jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:representation\"][0][\"@id\"])\r",
											"  });"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{Self_Description_URL}}/api/selfDescription/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"selfDescription",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Representation",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"\r",
											"pm.test(\"Representation\", function () {\r",
											"//http://w3id.org/engrd/connector/artifact/test\r",
											"  pm.expect(pm.response.text()).to.include(\"ids:TextRepresentation\");\r",
											"  });"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "representation",
										"value": "{{representation}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{Self_Description_URL}}/api/representation/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"representation",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Representation - Create",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"\r",
											"pm.test(\"Representation Created\", function () {\r",
											"//http://w3id.org/engrd/connector/artifact/postman\r",
											"  pm.expect(pm.response.text()).to.include(\"http://w3id.org/engrd/connector/artifact/postman\");\r",
											"  });"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "resource",
										"value": "{{offeredResource}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"@context\": {\r\n        \"ids\": \"https://w3id.org/idsa/core/\",\r\n        \"idsc\": \"https://w3id.org/idsa/code/\"\r\n    },\r\n    \"@type\": \"ids:TextRepresentation\",\r\n    \"@id\": \"https://w3id.org/idsa/autogen/textRepresentation/{{$guid}}\",\r\n    \"ids:instance\": [\r\n        {\r\n            \"@type\": \"ids:Artifact\",\r\n            \"@id\": \"http://w3id.org/engrd/connector/artifact/postman\",\r\n            \"ids:creationDate\": {\r\n                \"@value\": \"{{$isoTimestamp}}\",\r\n                \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n            }\r\n        }\r\n    ],\r\n    \"ids:language\": {\r\n        \"@id\": \"https://w3id.org/idsa/code/EN\"\r\n    },\r\n    \"ids:created\": {\r\n        \"@value\": \"{{$isoTimestamp}}\",\r\n        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Self_Description_URL}}/api/representation/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"representation",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Representation - Update",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"\r",
											"pm.test(\"Representation Updated\", function () {\r",
											"//http://w3id.org/engrd/connector/artifact/postman/update\r",
											"  pm.expect(pm.response.text()).to.include(\"http://w3id.org/engrd/connector/artifact/postman/update\");\r",
											"  });"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "resource",
										"value": "{{offeredResource}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"@context\": {\r\n        \"ids\": \"https://w3id.org/idsa/core/\",\r\n        \"idsc\": \"https://w3id.org/idsa/code/\"\r\n    },\r\n    \"@type\": \"ids:TextRepresentation\",\r\n    \"@id\": \"{{representation}}\",\r\n    \"ids:instance\": [\r\n        {\r\n            \"@type\": \"ids:Artifact\",\r\n            \"@id\": \"http://w3id.org/engrd/connector/artifact/postman/update\",\r\n            \"ids:creationDate\": {\r\n                \"@value\": \"{{$isoTimestamp}}\",\r\n                \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n            }\r\n        }\r\n    ],\r\n    \"ids:language\": {\r\n        \"@id\": \"https://w3id.org/idsa/code/EN\"\r\n    },\r\n    \"ids:created\": {\r\n        \"@value\": \"{{$isoTimestamp}}\",\r\n        \"@type\": \"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Self_Description_URL}}/api/representation/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"representation",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Representation - Delete",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();\r",
											"pm.response.to.be.ok;\r",
											"\r",
											"pm.test(\"Representation Deleted\", function () {\r",
											"//http://w3id.org/engrd/connector/artifact/test\r",
											"    pm.expect(pm.response.text()).to.not.include(pm.collectionVariables.get(\"representation\"));\r",
											"  });"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "representation",
										"value": "{{representation}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{Self_Description_URL}}/api/representation/",
									"host": [
										"{{Self_Description_URL}}"
									],
									"path": [
										"api",
										"representation",
										""
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "SelfDescription",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.response.to.be.ok;\r",
									"//store applicants self-description for further tests\r",
									"pm.collectionVariables.set(\"APPLICANT_SELF_DESCRIPTION\", jsonData)\r",
									"\r",
									"pm.test(\"ContractOffer\", function () {\r",
									"  // catalog\r",
									"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"@id\"]).to.exist;\r",
									"  pm.collectionVariables.set(\"resourceCatalog\", jsonData[\"ids:resourceCatalog\"][0][\"@id\"])  \r",
									"  // resource\r",
									"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"@id\"]).to.exist;\r",
									"  pm.collectionVariables.set(\"offeredResource\", jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"@id\"])\r",
									"  // contractOffer\r",
									"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:contractOffer\"][0][\"@id\"]).to.exist;\r",
									"  pm.collectionVariables.set(\"contractOffer\", jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:contractOffer\"][0][\"@id\"])\r",
									"  // representation\r",
									"  pm.expect(jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:representation\"][0][\"@id\"]).to.exist;\r",
									"  pm.collectionVariables.set(\"representation\", jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"][0][\"ids:representation\"][0][\"@id\"])\r",
									"  });"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{Self_Description_URL}}/",
							"host": [
								"{{Self_Description_URL}}"
							],
							"path": [
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Contract Negotiation",
			"item": [
				{
					"name": "Description Request Message",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Retrieve offered resource\", () => {\r",
									"   let jsonData = pm.response.json()\r",
									"   arrayOfObject = jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"];\r",
									"   var result = arrayOfObject.find(obj => {\r",
									"     return obj[\"ids:contractOffer\"][0][\"ids:permission\"][0][\"ids:target\"][\"@id\"] === \"http://w3id.org/engrd/connector/artifact/1\"\r",
									"   })\r",
									"   pm.collectionVariables.set(\"offered_resource\", result[\"@id\"])\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"{{multipart_type}}\",\n    \"Forward-To\": \"{{Forward-To}}\",\n    \"messageType\": \"DescriptionRequestMessage\"\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Description Request Message with offered resource",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Retrieve contract artifact\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.collectionVariables.set(\"contract_artifact\", jsonData[\"ids:representation\"][0][\"ids:instance\"][0][\"@id\"])\r",
									"});\r",
									"\r",
									"pm.test(\"Retrieve contract id\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.collectionVariables.set(\"contract_id\", jsonData[\"ids:contractOffer\"][0][\"@id\"])\r",
									"});\r",
									"\r",
									"pm.test(\"Retrieve contract permission\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.collectionVariables.set(\"contract_permission\", JSON.stringify(jsonData[\"ids:contractOffer\"][0][\"ids:permission\"][0]))\r",
									"});\r",
									"\r",
									"pm.test(\"Retrieve contract provider\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.collectionVariables.set(\"contract_provider\", jsonData[\"ids:contractOffer\"][0][\"ids:provider\"][\"@id\"])\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"{{multipart_type}}\",\n    \"Forward-To\": \"{{Forward-To}}\",\n    \"messageType\": \"DescriptionRequestMessage\",\n    \"requestedElement\": \"{{offered_resource}}\"\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ContractRequestMessage",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Retrieve contract contract_agreement\", function () {\r",
									"    pm.collectionVariables.set(\"contract_agreement\", JSON.stringify(pm.response.json()))\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"let responseData = pm.response.json();\r",
									"pm.collectionVariables.set(\"transfer_contract\", responseData[\"@id\"]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"{{multipart_type}}\",\n    \"Forward-To\": \"{{Forward-To}}\",\n    \"messageType\": \"ContractRequestMessage\",\n    \"requestedElement\": \"{{contract_artifact}}\",\n    \"payload\": {\n        \"@context\": {\n            \"ids\": \"https://w3id.org/idsa/core/\",\n            \"idsc\": \"https://w3id.org/idsa/code/\"\n        },\n        \"@type\": \"ids:ContractRequest\",\n        \"@id\": \"{{contract_id}}\",\n        \"ids:permission\": [\n            {{contract_permission}}\n        ],\n        \"ids:provider\": {\n            \"@id\": \"{{contract_provider}}\"\n        },\n        \"ids:obligation\": [],\n        \"ids:prohibition\": [],\n        \"ids:consumer\": {\n            \"@id\": \"http://w3id.org/engrd/connector/consumer\"\n        }\n    }\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ContractAgreementMessage",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Body is MessageProcessedNotificationMessage\", function () {\r",
									"    pm.response.to.have.body(\"MessageProcessedNotificationMessage\");\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"{{multipart_type}}\",\n    \"Forward-To\": \"{{Forward-To}}\",\n    \"messageType\": \"ContractAgreementMessage\",\n    \"requestedArtifact\": \"{{contract_artifact}}\",\n    \"payload\": {{contract_agreement}}\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ArtifactRequestMessage",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"pm.test(\"JSON values check\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData[\"firstName\"]).to.eql(\"John\");\r",
									"    pm.expect(jsonData[\"lastName\"]).to.eql(\"Doe\");\r",
									"    pm.expect(jsonData[\"address\"]).to.eql(\"591  Franklin Street, Pennsylvania\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"{{multipart_type}}\",\n    \"Forward-To\": \"{{Forward-To}}\",\n    \"messageType\": \"ArtifactRequestMessage\",\n    \"requestedArtifact\": \"{{contract_artifact}}\",\n    \"transferContract\": \"{{transfer_contract}}\",\n    \"payload\" : \"\"\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				}
			],
			"auth": {
				"type": "basic",
				"basic": [
					{
						"key": "username",
						"value": "idsUser",
						"type": "string"
					},
					{
						"key": "password",
						"value": "password",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Contract Negotiation (Role/Purpose)",
			"item": [
				{
					"name": "Description Request Message",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Retrieve offered resource\", () => {\r",
									"   let jsonData = pm.response.json()\r",
									"   arrayOfObject = jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"];\r",
									"   var result = arrayOfObject.find(obj => {\r",
									"     return obj[\"ids:contractOffer\"][0][\"ids:permission\"][0][\"ids:target\"][\"@id\"] === \"http://w3id.org/engrd/connector/artifact/1\"\r",
									"   })\r",
									"   pm.collectionVariables.set(\"offered_resource\", result[\"@id\"])\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"{{multipart_type}}\",\n    \"Forward-To\": \"{{Forward-To}}\",\n    \"messageType\": \"DescriptionRequestMessage\"\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Description Request Message with offered resource",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Retrieve contract artifact\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.collectionVariables.set(\"contract_artifact\", jsonData[\"ids:representation\"][0][\"ids:instance\"][0][\"@id\"])\r",
									"});\r",
									"\r",
									"pm.test(\"Retrieve contract id\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.collectionVariables.set(\"contract_id\", jsonData[\"ids:contractOffer\"][0][\"@id\"])\r",
									"});\r",
									"\r",
									"pm.test(\"Retrieve contract permission\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.collectionVariables.set(\"contract_permission\", JSON.stringify(jsonData[\"ids:contractOffer\"][0][\"ids:permission\"][0]))\r",
									"});\r",
									"\r",
									"pm.test(\"Retrieve contract provider\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.collectionVariables.set(\"contract_provider\", jsonData[\"ids:contractOffer\"][0][\"ids:provider\"][\"@id\"])\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"{{multipart_type}}\",\n    \"Forward-To\": \"{{Forward-To}}\",\n    \"messageType\": \"DescriptionRequestMessage\",\n    \"requestedElement\": \"{{offered_resource}}\"\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ContractOfferUpdateRoles",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var dateNow = new Date();",
									"pm.collectionVariables.set(\"endDate\", new Date(dateNow.setDate(dateNow.getDate() + 60)).toISOString());"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Retrieve offered resource\", () => {",
									"   let jsonData = pm.response.json()",
									"   arrayOfObject = jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"];",
									"   var result = arrayOfObject.find(obj => {",
									"     return obj[\"ids:contractOffer\"][0][\"ids:permission\"][0][\"ids:target\"][\"@id\"] === \"http://w3id.org/engrd/connector/artifact/1\"",
									"   })",
									"   pm.collectionVariables.set(\"offered_resource\", result[\"@id\"])",
									"   pm.collectionVariables.set(\"updated_contract\", result)",
									"});",
									"",
									"pm.test(\"Retrieve contract id\", function () {",
									"   var updatedContract = pm.collectionVariables.get(\"updated_contract\");",
									"    pm.collectionVariables.set(\"contract_id\", updatedContract[\"ids:contractOffer\"][0][\"@id\"])",
									"});",
									"",
									"pm.test(\"Retrieve contract permission\", function () {",
									"   var updatedContract = pm.collectionVariables.get(\"updated_contract\");",
									"    pm.collectionVariables.set(\"contract_permission\", JSON.stringify(updatedContract[\"ids:contractOffer\"][0][\"ids:permission\"][0]))",
									"});",
									"",
									"pm.test(\"Retrieve contract provider\", function () {",
									"   var updatedContract = pm.collectionVariables.get(\"updated_contract\");",
									"    pm.collectionVariables.set(\"contract_provider\", updatedContract[\"ids:contractOffer\"][0][\"ids:provider\"][\"@id\"])",
									"});",
									"",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {
							"content-type": true
						}
					},
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "apiUser",
									"type": "string"
								},
								{
									"key": "password",
									"value": "password",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "default"
							},
							{
								"key": "resource",
								"value": "{{offered_resource}}",
								"type": "default"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"@context\":{\n      \"ids\":\"https://w3id.org/idsa/core/\",\n      \"idsc\":\"https://w3id.org/idsa/code/\"\n   },\n   \"@type\":\"ids:ContractOffer\",\n   \"@id\":\"{{contract_id}}\",\n   \"ids:permission\":[\n      {\n         \"@type\":\"ids:Permission\",\n         \"@id\":\"https://w3id.org/idsa/autogen/permission/{{$guid}}\",\n         \"ids:target\":{\n            \"@id\":\"http://w3id.org/engrd/connector/artifact/1\"\n         },\n         \"ids:description\":[\n            {\n               \"@value\":\"provide-access\",\n               \"@type\":\"http://www.w3.org/2001/XMLSchema#string\"\n            }\n         ],\n         \"ids:action\":[\n            {\n               \"@id\":\"https://w3id.org/idsa/code/USE\"\n            }\n         ],\n         \"ids:title\":[\n            {\n               \"@value\":\"Example Usage Policy\",\n               \"@type\":\"http://www.w3.org/2001/XMLSchema#string\"\n            }\n         ],\n         \"ids:preDuty\":[\n            \n         ],\n         \"ids:constraint\":[\n            {\n               \"@type\":\"ids:Constraint\",\n               \"@id\":\"https://w3id.org/idsa/autogen/constraint/{{$guid}}\",\n               \"ids:rightOperandReference\":{\n                  \"@id\":\"http://example.com/ids-role:riskManager\"\n               },\n               \"ids:operator\":{\n                  \"@id\":\"idsc:HAS_MEMBERSHIP\"\n               },\n               \"ids:leftOperand\":{\n                  \"@id\":\"idsc:USER\"\n               },\n               \"ids:pipEndpoint\":{\n                  \"@id\":\"http://uc-dataapp-pip-consumer:8085/DataUsage/Pip/1.0/admin/api/role/\"\n               }\n            }\n         ],\n         \"ids:postDuty\":[\n            \n         ],\n         \"ids:assignee\":[\n            \n         ],\n         \"ids:assigner\":[\n            \n         ]\n      }\n   ],\n   \"ids:provider\":{\n      \"@id\":\"https://w3id.org/engrd/connector/\"\n   },\n   \"ids:contractStart\":{\n      \"@value\":\"{{$isoTimestamp}}\",\n      \"@type\":\"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\n   },\n   \"ids:contractDate\":{\n      \"@value\":\"{{$isoTimestamp}}\",\n      \"@type\":\"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\n   },\n   \"ids:contractEnd\":{\n      \"@value\":\"{{endDate}}\",\n      \"@type\":\"http://www.w3.org/2001/XMLSchema#dateTimeStamp\"\n   },\n   \"ids:prohibition\":[\n      \n   ],\n   \"ids:obligation\":[\n      \n   ]\n}"
						},
						"url": {
							"raw": "{{Self_Description_URL}}/api/contractOffer/",
							"host": [
								"{{Self_Description_URL}}"
							],
							"path": [
								"api",
								"contractOffer",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "ContractRequestMessage",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Retrieve contract contract_agreement\", function () {\r",
									"    pm.collectionVariables.set(\"contract_agreement\", JSON.stringify(pm.response.json()))\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"let responseData = pm.response.json();\r",
									"pm.collectionVariables.set(\"transfer_contract\", responseData[\"@id\"]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"{{multipart_type}}\",\n    \"Forward-To\": \"{{Forward-To}}\",\n    \"messageType\": \"ContractRequestMessage\",\n    \"requestedElement\": \"{{contract_artifact}}\",\n    \"payload\": {\n        \"@context\": {\n            \"ids\": \"https://w3id.org/idsa/core/\",\n            \"idsc\": \"https://w3id.org/idsa/code/\"\n        },\n        \"@type\": \"ids:ContractRequest\",\n        \"@id\": \"{{contract_id}}\",\n        \"ids:permission\": [\n            {{contract_permission}}\n        ],\n        \"ids:provider\": {\n            \"@id\": \"{{contract_provider}}\"\n        },\n        \"ids:obligation\": [],\n        \"ids:prohibition\": [],\n        \"ids:consumer\": {\n            \"@id\": \"http://w3id.org/engrd/connector/consumer\"\n        }\n    }\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ContractAgreementMessage",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Body is MessageProcessedNotificationMessage\", function () {\r",
									"    pm.response.to.have.body(\"MessageProcessedNotificationMessage\");\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"{{multipart_type}}\",\n    \"Forward-To\": \"{{Forward-To}}\",\n    \"messageType\": \"ContractAgreementMessage\",\n    \"requestedArtifact\": \"{{contract_artifact}}\",\n    \"payload\": {{contract_agreement}}\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ArtifactRequestMessage",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"pm.test(\"JSON values check\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData[\"firstName\"]).to.eql(\"John\");\r",
									"    pm.expect(jsonData[\"lastName\"]).to.eql(\"Doe\");\r",
									"    pm.expect(jsonData[\"address\"]).to.eql(\"591  Franklin Street, Pennsylvania\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"{{multipart_type}}\",\n    \"Forward-To\": \"{{Forward-To}}\",\n    \"messageType\": \"ArtifactRequestMessage\",\n    \"requestedArtifact\": \"{{contract_artifact}}\",\n    \"transferContract\": \"{{transfer_contract}}\"\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				}
			],
			"auth": {
				"type": "basic",
				"basic": [
					{
						"key": "username",
						"value": "idsUser",
						"type": "string"
					},
					{
						"key": "password",
						"value": "password",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Contract Negotiation WS",
			"item": [
				{
					"name": "Description Request Message",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Retrieve offered resource\", () => {\r",
									"   let jsonData = pm.response.json()\r",
									"   arrayOfObject = jsonData[\"ids:resourceCatalog\"][0][\"ids:offeredResource\"];\r",
									"   var result = arrayOfObject.find(obj => {\r",
									"     return obj[\"ids:contractOffer\"][0][\"ids:permission\"][0][\"ids:target\"][\"@id\"] === \"http://w3id.org/engrd/connector/artifact/test1.csv\"\r",
									"   })\r",
									"   pm.collectionVariables.set(\"offered_resource\", result[\"@id\"])\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"wss\",\n    \"Forward-To\": \"{{Forward-To-WS}}\",\n    \"Forward-To-Internal\": \"{{Forward-To-Internal}}\",\n    \"messageType\": \"DescriptionRequestMessage\"\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Description Request Message with offered resource",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Retrieve contract artifact\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.collectionVariables.set(\"contract_artifact\", jsonData[\"ids:representation\"][0][\"ids:instance\"][0][\"@id\"])\r",
									"});\r",
									"\r",
									"pm.test(\"Retrieve contract id\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.collectionVariables.set(\"contract_id\", jsonData[\"ids:contractOffer\"][0][\"@id\"])\r",
									"});\r",
									"\r",
									"pm.test(\"Retrieve contract permission\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.collectionVariables.set(\"contract_permission\", JSON.stringify(jsonData[\"ids:contractOffer\"][0][\"ids:permission\"][0]))\r",
									"});\r",
									"\r",
									"pm.test(\"Retrieve contract provider\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.collectionVariables.set(\"contract_provider\", jsonData[\"ids:contractOffer\"][0][\"ids:provider\"][\"@id\"])\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"wss\",\n    \"Forward-To\": \"{{Forward-To-WS}}\",\n    \"Forward-To-Internal\": \"{{Forward-To-Internal}}\",\n    \"messageType\": \"DescriptionRequestMessage\",\n    \"requestedElement\": \"{{offered_resource}}\"\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ContractRequestMessage",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Retrieve contract contract_agreement\", function () {\r",
									"    pm.collectionVariables.set(\"contract_agreement\", JSON.stringify(pm.response.json()))\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"let responseData = pm.response.json();\r",
									"pm.collectionVariables.set(\"transfer_contract\", responseData[\"@id\"]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"wss\",\n    \"Forward-To\": \"{{Forward-To-WS}}\",\n    \"Forward-To-Internal\": \"{{Forward-To-Internal}}\",\n    \"messageType\": \"ContractRequestMessage\",\n    \"requestedElement\": \"{{contract_artifact}}\",\n    \"payload\": {\n        \"@context\": {\n            \"ids\": \"https://w3id.org/idsa/core/\",\n            \"idsc\": \"https://w3id.org/idsa/code/\"\n        },\n        \"@type\": \"ids:ContractRequest\",\n        \"@id\": \"{{contract_id}}\",\n        \"ids:permission\": [\n            {{contract_permission}}\n        ],\n        \"ids:provider\": {\n            \"@id\": \"{{contract_provider}}\"\n        },\n        \"ids:obligation\": [],\n        \"ids:prohibition\": [],\n        \"ids:consumer\": {\n            \"@id\": \"http://w3id.org/engrd/connector/consumer\"\n        }\n    }\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ContractAgreementMessage",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Body is MessageProcessedNotificationMessage\", function () {\r",
									"    pm.response.to.have.body(\"MessageProcessedNotificationMessage\");\r",
									"});\r",
									"\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"wss\",\n    \"Forward-To\": \"{{Forward-To-WS}}\",\n    \"Forward-To-Internal\": \"{{Forward-To-Internal}}\",\n    \"messageType\": \"ContractAgreementMessage\",\n    \"requestedArtifact\": \"{{contract_artifact}}\",\n    \"payload\": {{contract_agreement}}\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "ArtifactRequestMessage",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"pm.test(\"JSON values check\", function () {\r",
									"    pm.expect(pm.response.text()).to.include(\"File 'test1.csv' created successfully\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"multipart\": \"wss\",\n    \"Forward-To\": \"{{Forward-To-WS}}\",\n    \"Forward-To-Internal\": \"{{Forward-To-Internal}}\",\n    \"messageType\": \"ArtifactRequestMessage\",\n    \"requestedArtifact\": \"{{contract_artifact}}\",\n    \"transferContract\": \"{{transfer_contract}}\",\n    \"payload\" : \"\"\n}"
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				}
			],
			"auth": {
				"type": "basic",
				"basic": [
					{
						"key": "username",
						"value": "idsUser",
						"type": "string"
					},
					{
						"key": "password",
						"value": "password",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Broker Interaction",
			"item": [
				{
					"name": "Connector Update Message",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"multipart\": \"{{multipart_type}}\",\r\n    \"Forward-To\": \"{{Broker_URL}}\",\r\n    \"messageType\": \"ConnectorUpdateMessage\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Connector Unavailable Message",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"multipart\": \"{{multipart_type}}\",\r\n    \"Forward-To\": \"{{Broker_URL}}\",\r\n    \"messageType\": \"ConnectorUnavailableMessage\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Connector Query Message",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"multipart\": \"{{multipart_type}}\",\r\n    \"Forward-To\": \"{{Broker_URL}}\",\r\n    \"messageType\": \"QueryMessage\",\r\n    \"payload\": \"PREFIX ids: <https://w3id.org/idsa/core/> SELECT ?connectorUri WHERE { ?connectorUri a ids:BaseConnector . }\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Proxy_Endpoint}}",
							"host": [
								"{{Proxy_Endpoint}}"
							]
						}
					},
					"response": []
				}
			],
			"auth": {
				"type": "basic",
				"basic": [
					{
						"key": "username",
						"value": "idsUser",
						"type": "string"
					},
					{
						"key": "password",
						"value": "password",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		}
	],
	"auth": {
		"type": "basic",
		"basic": [
			{
				"key": "username",
				"value": "apiUser",
				"type": "string"
			},
			{
				"key": "password",
				"value": "password",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "APPLICANT_SELF_DESCRIPTION",
			"value": ""
		},
		{
			"key": "resourceCatalog",
			"value": ""
		},
		{
			"key": "offeredResource",
			"value": ""
		},
		{
			"key": "contractOffer",
			"value": ""
		},
		{
			"key": "representation",
			"value": ""
		},
		{
			"key": "futureDate",
			"value": ""
		},
		{
			"key": "offered_resource",
			"value": ""
		},
		{
			"key": "contract_artifact",
			"value": ""
		},
		{
			"key": "contract_id",
			"value": ""
		},
		{
			"key": "contract_permission",
			"value": ""
		},
		{
			"key": "contract_provider",
			"value": ""
		},
		{
			"key": "contract_agreement",
			"value": ""
		},
		{
			"key": "transfer_contract",
			"value": ""
		},
		{
			"key": "endDate",
			"value": ""
		},
		{
			"key": "updated_contract",
			"value": ""
		}
	]
}